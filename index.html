<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ó–∞–∫–∞–∑ —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–∞</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
<base target="_blank">
    <link rel="stylesheet" href="https://ke1tas2.github.io/timofeyev/styles.css" >
</head>
<body>
    <!-- –û–±–µ—Ä—Ç–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã –≤ Tilda -->
    <div id="tilda-calculator-wrapper">
<!-- –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å (–≤–∏–∑—É–∞–ª –∫–∞–∫ –Ω–∞ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–µ, –±–µ–∑ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞) -->
    <div class="topbar-wrap">
        <div class="topbar">
            <div class="topbar-logo">Timofeyev</div>

            <nav class="topbar-nav" aria-label="–ù–∞–≤–∏–≥–∞—Ü–∏—è">
                <a class="topbar-link" href="javascript:void(0)">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º <span style="font-size:12px; opacity:.65;">‚ñæ</span></a>
                <a class="topbar-link" href="javascript:void(0)">–í–æ–¥–∏—Ç–µ–ª—è–º <span style="font-size:12px; opacity:.65;">‚ñæ</span></a>
                <a class="topbar-link" href="javascript:void(0)">–ë–∏–∑–Ω–µ—Å—É <span style="font-size:12px; opacity:.65;">‚ñæ</span></a>
                <a class="topbar-link" href="javascript:void(0)">–ü–∞—Ä—Ç–Ω—ë—Ä–∞–º <span style="font-size:12px; opacity:.65;">‚ñæ</span></a>

            </nav>

            <div class="topbar-actions">
                <!-- –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º—ã -->
                <button class="theme-toggle" onclick="toggleTheme()" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">
                    <span class="theme-icon">üåô</span>
                </button>
                
                <a class="topbar-login" href="javascript:void(0)">
                    <i class="fas fa-arrow-right-to-bracket"></i>
                    –í–æ–π—Ç–∏
                </a>
            </div>
        </div>
    </div>

    <div id="calculator">
        <!-- –ö—Ä–∞—Å–Ω–∞—è –º–µ—Ç–∫–∞ –Ω–∞ –∫–∞—Ä—Ç–µ -->
        <div class="map-marker" id="mapMarker">
            <div class="marker-pin"></div>
            <div class="marker-shadow"></div>
        </div>

        <div class="location-loading" id="locationLoading">
            <i class="fas fa-location-crosshairs"></i>
            <div class="loading-text">–û–ø—Ä–µ–¥–µ–ª—è–µ–º –≤–∞—à–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ</div>
            <div class="loading-subtext">–†–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –∞–¥—Ä–µ—Å–∞</div>
        </div>

        <!-- –ü–∞–Ω–µ–ª—å —Ç–µ–ª–µ—Ñ–æ–Ω–∞ -->
        <div class="phone-panel">
            <i class="fas fa-phone-alt phone-icon"></i>
            <div>
                <div class="phone-number">+7 (777) 779-64-44</div>
                <div class="phone-label">–ó–∞–∫–∞–∑ —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–∞ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É</div>
            </div>
        </div>

        <!-- –û—Å–Ω–æ–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å –∑–∞–∫–∞–∑–∞ -->
        <div class="panel" id="panel">

            <div class="panel-top">
                <div class="panel-header" id="panelHeader">
                    <div class="panel-handle"></div>
                    <div class="panel-header-title">–ó–∞–∫–∞–∑ —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–∞</div>
                </div>
                <!-- –ü–æ–ª—è –≤–≤–æ–¥–∞ –∞–¥—Ä–µ—Å–æ–≤ -->
                <div class="address-selector">
                    <div class="address-field" id="fromField">
                        <div class="address-icon from-icon">
                            <svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <circle cx="12" cy="12" r="7" fill="#fc3f1e"></circle>
                                <circle cx="12" cy="12" r="4" fill="#fff"></circle>
                            </svg>
                        </div>
                        <div class="address-input-container">
                            <input type="text" class="address-input" id="fromInput" placeholder="–û—Ç–∫—É–¥–∞" autocomplete="off">
                            <span class="address-hint">–ê–¥—Ä–µ—Å —Ç–æ—á–∫–∏ –ê</span>
                        </div>
                        <button class="clear-button" id="clearFrom" style="display: none;">
                            <i class="fas fa-times"></i>
                        </button>
                        <button class="map-select-button" id="fromMapButton" onclick="startSelectingPoint('from')" title="–í—ã–±—Ä–∞—Ç—å –Ω–∞ –∫–∞—Ä—Ç–µ">
                            <i class="fas fa-map-marker-alt"></i>
                        </button>
                    </div>

                    <div class="address-field" id="toField">
                        <div class="address-icon to-icon">
                            <svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <circle cx="12" cy="12" r="9" fill="rgba(255, 216, 77, 0.16)"></circle>
                                <circle cx="12" cy="12" r="6" fill="#ffd84d"></circle>
                                <circle cx="12" cy="12" r="3" fill="#141414"></circle>
                            </svg>
                        </div>
                        <div class="address-input-container">
                            <input type="text" class="address-input" id="toInput" placeholder="–ö—É–¥–∞?" autocomplete="off">
                            <span class="address-hint">–ê–¥—Ä–µ—Å —Ç–æ—á–∫–∏ –ë</span>
                        </div>
                        <button class="clear-button" id="clearTo" style="display: none;">
                            <i class="fas fa-times"></i>
                        </button>
                        <button class="map-select-button" id="toMapButton" onclick="startSelectingPoint('to')" title="–í—ã–±—Ä–∞—Ç—å –Ω–∞ –∫–∞—Ä—Ç–µ">
                            <i class="fas fa-map-marker-alt"></i>
                        </button>
                    </div>
                </div>
            </div>

            <div class="panel-content">
                <div class="address-field add-stop" id="addStopField">
                    <div class="add-stop-icon">
                        <i class="fas fa-plus"></i>
                    </div>
                    <div class="add-stop-text">–î–æ–±–∞–≤–∏—Ç—å –æ—Å—Ç–∞–Ω–æ–≤–∫—É</div>
                </div>

                <!-- –¢–∞—Ä–∏—Ñ—ã -->
                <div class="tariff-section">

                    <div class="tariff-grid" id="tariffGrid">
                        <!-- –¢–∞—Ä–∏—Ñ—ã –±—É–¥—É—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã JavaScript -->
                    </div>
                </div>

                <!-- –ö–ª–∞—Å—Å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ -->
                <div class="transport-class-section">
                    <div class="transport-class-title">–í—ã–±–µ—Ä–∏—Ç–µ –∫–ª–∞—Å—Å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞:</div>
                    <div class="transport-class-options">
                        <div class="transport-class-option active" data-class="comfort">
                            <div class="transport-class-label">comfort</div>
                        </div>
                        <div class="transport-class-option" data-class="business">
                            <div class="transport-class-label">business</div>
                        </div>
                        <div class="transport-class-option" data-class="premium">
                            <div class="transport-class-label">premium</div>
                        </div>
                    </div>
                </div>

                <!-- –¶–µ–Ω–∞ -->
                <div class="price-section">

                    <div>
                        <span class="price-amount" id="priceAmount">‚Äî</span>
                        <span class="price-currency">‚Ç∏</span>
                    </div>
                </div>

                <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ü–∏–∏ -->
                <div class="options-section">


                    <div class="option-item">
                        <div class="option-info">
                            <div class="option-icon">
                                <i class="fas fa-paw"></i>
                            </div>
                            <div class="option-text">
                                <div class="option-name">–ü–µ—Ä–µ–≤–æ–∑–∫–∞ –∂–∏–≤–æ—Ç–Ω–æ–≥–æ</div>
                            </div>
                        </div>
                        <label class="yandex-toggle">
                            <input type="checkbox" id="animalOption" onchange="updatePrice()">
                            <span class="yandex-toggle-slider"></span>
                        </label>
                    </div>

                    <div class="option-item">
                        <div class="option-info">
                            <div class="option-icon">
                                <i class="fas fa-skiing"></i>
                            </div>
                            <div class="option-text">
                                <div class="option-name">–õ—ã–∂–∏ / —Å–Ω–æ—É–±–æ—Ä–¥</div>
                            </div>
                        </div>
                        <label class="yandex-toggle">
                            <input type="checkbox" id="skiOption" onchange="updatePrice()">
                            <span class="yandex-toggle-slider"></span>
                        </label>
                    </div>

                    <div class="option-item">
                        <div class="option-info">
                            <div class="option-icon">
                                <i class="fas fa-wheelchair"></i>
                            </div>
                            <div class="option-text">
                                <div class="option-name">–ò–Ω–≤–∞–ª–∏–¥–Ω–æ–µ –∫—Ä–µ—Å–ª–æ</div>
                            </div>
                        </div>
                        <label class="yandex-toggle">
                            <input type="checkbox" id="wheelchairOption" onchange="updatePrice()">
                            <span class="yandex-toggle-slider"></span>
                        </label>
                    </div>

                    <!-- –ù–æ–≤—ã–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ü–∏–∏ -->
                    <div class="option-item">
                        <div class="option-info">
                            <div class="option-icon">
                                <i class="fas fa-baby-carriage"></i>
                            </div>
                            <div class="option-text">
                                <div class="option-name">–î–µ—Ç—Å–∫–æ–µ –∫—Ä–µ—Å–ª–æ</div>
                            </div>
                        </div>
                        <label class="yandex-toggle">
                            <input type="checkbox" id="childSeatOption" onchange="updatePrice()">
                            <span class="yandex-toggle-slider"></span>
                        </label>
                    </div>

                    <div class="option-item">
                        <div class="option-info">
                            <div class="option-icon">
                                <i class="fas fa-car"></i>
                            </div>
                            <div class="option-text">
                                <div class="option-name">–ü–æ–º–æ–≥–∏—Ç–µ –Ω–∞–π—Ç–∏ –º–∞—à–∏–Ω—É</div>
                            </div>
                        </div>
                        <label class="yandex-toggle">
                            <input type="checkbox" id="findCarOption" onchange="updatePrice()">
                            <span class="yandex-toggle-slider"></span>
                        </label>
                    </div>

                    <div class="option-item">
                        <div class="option-info">
                            <div class="option-icon">
                                <i class="fas fa-comment-alt"></i>
                            </div>
                            <div class="option-text">
                                <div class="option-name">–û–±—â–∞—é—Å—å —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç–æ–º</div>
                            </div>
                        </div>
                        <label class="yandex-toggle">
                            <input type="checkbox" id="textOnlyOption" onchange="updatePrice()">
                            <span class="yandex-toggle-slider"></span>
                        </label>
                    </div>

                    <div class="option-item">
                        <div class="option-info">
                            <div class="option-icon">
                                <i class="fas fa-ear-deaf"></i>
                            </div>
                            <div class="option-text">
                                <div class="option-name">–ù–µ –≥–æ–≤–æ—Ä—é, –Ω–æ —Å–ª—ã—à—É</div>
                            </div>
                        </div>
                        <label class="yandex-toggle">
                            <input type="checkbox" id="dontSpeakOption" onchange="updatePrice()">
                            <span class="yandex-toggle-slider"></span>
                        </label>
                    </div>

                    <div class="option-item">
                        <div class="option-info">
                            <div class="option-icon">
                                <i class="fas fa-bicycle"></i>
                            </div>
                            <div class="option-text">
                                <div class="option-name">–í–µ–ª–æ—Å–∏–ø–µ–¥</div>
                            </div>
                        </div>
                        <label class="yandex-toggle">
                            <input type="checkbox" id="bicycleOption" onchange="updatePrice()">
                            <span class="yandex-toggle-slider"></span>
                        </label>
                    </div>
                </div>

                <!-- –°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã -->
                <div class="payment-section">

                    <div class="payment-button" onclick="openPaymentModal()">
                        <div class="payment-info">
                            <div class="payment-icon">
                                <i class="fas fa-money-bill-wave"></i>
                            </div>
                            <div class="payment-text">
                                <div class="payment-label">–û–ø–ª–∞—Ç–∞</div>
                                <div class="payment-value" id="paymentValue">–ù–∞–ª–∏—á–Ω—ã–º–∏</div>
                            </div>
                        </div>
                        <div class="payment-arrow">
                            <i class="fas fa-chevron-right"></i>
                        </div>
                    </div>
                </div>

                <!-- –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ -->
                <div class="phone-input-section">
                    <div class="phone-label">–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞</div>
                    <div class="phone-input-wrapper">
                        <i class="fas fa-phone phone-input-icon"></i>
                        <input
                            type="tel"
                            id="phoneInput"
                            class="phone-input"
                            placeholder="+7 (777) 779-64-44"
                            maxlength="18"
                        >
                    </div>
                </div>
            </div>

            <div class="panel-bottom">
                <!-- –ö–Ω–æ–ø–∫–∞ –∑–∞–∫–∞–∑–∞ -->
                <div class="order-section">
                    <button class="order-button" onclick="orderTaxi()">
                        <i class="fas fa-check"></i>
                        –ó–∞–∫–∞–∑–∞—Ç—å —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä
                    </button>
                </div>
            </div>
        </div>

        <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –≤—ã–±–æ—Ä–∞ —Ç–æ—á–∫–∏ –Ω–∞ –∫–∞—Ä—Ç–µ -->
        <div class="map-select-mode" id="mapSelectMode">
            <div class="title">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–æ—á–∫—É –Ω–∞ –∫–∞—Ä—Ç–µ</div>
            <div class="hint">–ö–ª–∏–∫–Ω–∏—Ç–µ –≤ –Ω—É–∂–Ω–æ–º –º–µ—Å—Ç–µ –Ω–∞ –∫–∞—Ä—Ç–µ<br>–∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ ESC –¥–ª—è –æ—Ç–º–µ–Ω—ã</div>
        </div>

        <div id="map"></div>

        <!-- –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∫–æ–Ω—Ç—Ä–æ–ª—ã –∫–∞—Ä—Ç—ã -->
        <div class="map-controls" id="mapControls">
            <div class="map-zoom-capsule">
                <button type="button" id="zoomIn" title="–ü—Ä–∏–±–ª–∏–∑–∏—Ç—å">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round">
                        <line x1="12" y1="5" x2="12" y2="19"/>
                        <line x1="5" y1="12" x2="19" y2="12"/>
                    </svg>
                </button>
                <div class="zoom-divider"></div>
                <button type="button" id="zoomOut" title="–û—Ç–¥–∞–ª–∏—Ç—å">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round">
                        <line x1="5" y1="12" x2="19" y2="12"/>
                    </svg>
                </button>
            </div>
            <button type="button" class="map-geo-btn" id="geoBtn" title="–ú–æ—ë –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ">
                <svg viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
                </svg>
            </button>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—ã–±–æ—Ä–∞ —Å–ø–æ—Å–æ–±–∞ –æ–ø–ª–∞—Ç—ã -->
    <div class="payment-overlay" id="paymentOverlay">
        <div class="payment-modal" id="paymentModal">
            <div class="payment-modal-header">
                <div class="payment-modal-title">–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã</div>
                <button class="payment-modal-close" onclick="closePaymentModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="payment-methods" id="paymentMethodsList">
                <!-- –°–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã –±—É–¥—É—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã JavaScript -->
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç—ã -->
    <div class="payment-overlay" id="addCardOverlay">
        <div class="payment-modal">
            <div class="payment-modal-header">
                <div class="payment-modal-title">–î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ä—Ç—É</div>
                <button class="payment-modal-close" onclick="closeAddCardModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="add-card-form">
                <div class="form-title">–í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã</div>

                <div class="form-group">
                    <label class="form-label">–ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã</label>
                    <input type="text" class="form-input" id="cardNumber" placeholder="0000 0000 0000 0000" maxlength="19">
                </div>

                <div class="form-row">
                    <div class="form-col">
                        <label class="form-label">–î–µ–π—Å—Ç–≤—É–µ—Ç –¥–æ</label>
                        <input type="text" class="form-input" id="cardExpiry" placeholder="–ú–ú/–ì–ì" maxlength="5">
                    </div>
                    <div class="form-col">
                        <label class="form-label">CVC</label>
                        <input type="text" class="form-input" id="cardCvc" placeholder="000" maxlength="3">
                    </div>
                </div>

                <div class="form-actions">
                    <button class="form-button secondary" onclick="closeAddCardModal()">–û—Ç–º–µ–Ω–∞</button>
                    <button class="form-button primary" onclick="saveCard()">–î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ä—Ç—É</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <script src="https://api-maps.yandex.ru/2.1/?apikey=69c18fe9-15b1-4391-b4e7-2a005a4fb22d&lang=ru_RU"></script>
    
    </div>
    <script src="https://ke1tas2.github.io/timofeyev/script.js"></script>
</body>
</html>